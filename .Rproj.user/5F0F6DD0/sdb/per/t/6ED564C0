{
    "collab_server" : "",
    "contents" : "library(plyr)\nlibrary(RMySQL)\n\nmydb = dbConnect(MySQL(), host = \"104.198.210.36\", user = \"root\", password = \"tacozombies54992\", db = \"analytics\")\nrs <- dbSendQuery(mydb, \"select status_id, feed_likes, love, wow, haha, sad, angry, post_source_type, from_name from FEED_DATA\")\nReactionsData <- fetch(rs, -1)\nrs <- dbSendQuery(mydb, \"select * from CONTENT_TRACK\")\nContentTrackData <- fetch(rs, -1)\nrs <- dbSendQuery(mydb, \"select * from EDITORIAL_AUTHOR\")\nEditorialData <- fetch(rs, -1)\ndbClearResult(rs)\ndbDisconnect(mydb)\n\n\nData <- read.csv(\"Facebook Insights WAM.csv\", header = TRUE, stringsAsFactors = FALSE)\nLinkData <- read.csv(\"LinkData.csv\", header = TRUE, stringsAsFactors = FALSE)\nVideoData <- read.csv(\"VideoData.csv\", header = TRUE, stringsAsFactors = FALSE)\nPhotoData <- read.csv(\"PhotoData.csv\", header = TRUE, stringsAsFactors = FALSE)\n\nDataBH <- read.csv(\"Facebook Insights BH.csv\", header = TRUE, stringsAsFactors = FALSE)\nLinkDataBH <- read.csv(\"LinkDataBH.csv\", header = TRUE, stringsAsFactors = FALSE)\nVideoDataBH <- read.csv(\"VideoDataBH.csv\", header = TRUE, stringsAsFactors = FALSE)\nPhotoDataBH <- read.csv(\"PhotoDataBH.csv\", header = TRUE, stringsAsFactors = FALSE)\n\nDataFC <- read.csv(\"Facebook Insights FC.csv\", header = TRUE, stringsAsFactors = FALSE)\nLinkDataFC <- read.csv(\"LinkDataFC.csv\", header = TRUE, stringsAsFactors = FALSE)\nVideoDataFC <- read.csv(\"VideoDataFC.csv\", header = TRUE, stringsAsFactors = FALSE)\nPhotoDataFC <- read.csv(\"PhotoDataFC.csv\", header = TRUE, stringsAsFactors = FALSE)\n\n\nData <- merge(Data, ReactionsData, by = \"status_id\", all.x = TRUE)\nData <- Data[!duplicated(Data),]\nData$created_time <- as.POSIXct(strptime(Data$created_time, \"%d/%m/%Y %H:%M\"), tz = \"GMT\")\nData$date = strptime(Data$date, \"%d/%m/%Y\")\nData$date <- as.Date(Data$date)\n# Data[Data$sharetext == \"\",]$sharetext <- \"No Share Text\"\nData[Data$sharetext == \"\",]$sharetext <- as.character(Data[Data$sharetext == \"\",]$status_id)\nData[Data$headline == \"\",]$headline <- as.character(Data[Data$headline == \"\",]$status_id)\nEncoding(Data$sharetext) <- \"latin1\"\nEncoding(Data$headline) <- \"latin1\"\nData$total_interactions <- Data$total_comments+Data$total_likes + Data$total_shares\nData$interaction_rate <- (Data$total_comments+Data$total_likes + Data$total_shares)/Data$post_reach\nData$ctr <- Data$link_clicks/Data$post_reach\nData$views_rate <- Data$post_video_views/Data$post_reach\nData$viral_fan_rate <- Data$post_reach_viral_unique/Data$post_reach_fan_unique\nData$share_rate <- Data$total_shares/(Data$total_comments + Data$total_likes + Data$total_shares)\nData$total_reactions <- (Data$feed_likes + Data$love + Data$wow + Data$haha + Data$sad + Data$angry)\nData$feed_likes_rate <- round(Data$feed_likes/Data$total_reactions, 4)\nData$love_rate <- round(Data$love/Data$total_reactions, 4)\nData$wow_rate <- round(Data$wow/Data$total_reactions, 4)\nData$haha_rate <- round(Data$haha/Data$total_reactions, 4)\nData$sad_rate <- round(Data$sad/Data$total_reactions, 4)\nData$angry_rate <- round(Data$angry/Data$total_reactions, 4)\nData$viral_rate <- (Data$post_reach_viral_unique/(Data$post_reach_fan_unique + Data$post_reach_viral_unique))\nData$fan_rate <- (Data$post_reach_fan_unique/(Data$post_reach_fan_unique + Data$post_reach_viral_unique))\nData$post_image <- paste(\"<img src ='\", Data$full_picture,\"'\",'title=\"\"', 'alt=\"\" border=\"0\" height=\"100\" width=\"100\">')\n\n\nDataBH <- merge(DataBH, ReactionsData, by = \"status_id\", all.x = TRUE)\nDataBH <- DataBH[!duplicated(DataBH),]\nDataBH$created_time <- as.POSIXct(strptime(DataBH$created_time, \"%d/%m/%Y %H:%M\"), tz = \"GMT\")\nDataBH$date = strptime(DataBH$date, \"%d/%m/%Y\")\nDataBH$date <- as.Date(DataBH$date)\n# DataBH[DataBH$sharetext == \"\",]$sharetext <- \"No Share Text\"\nDataBH[DataBH$sharetext == \"\",]$sharetext <- as.character(DataBH[DataBH$sharetext == \"\",]$status_id)\nDataBH[DataBH$headline == \"\",]$headline <- as.character(DataBH[DataBH$headline == \"\",]$status_id)\nEncoding(DataBH$sharetext) <- \"latin1\"\nEncoding(DataBH$headline) <- \"latin1\"\nDataBH$total_interactions <- DataBH$total_comments+DataBH$total_likes + DataBH$total_shares\nDataBH$interaction_rate <- (DataBH$total_comments+DataBH$total_likes + DataBH$total_shares)/DataBH$post_reach\nDataBH$ctr <- DataBH$link_clicks/DataBH$post_reach\nDataBH$views_rate <- DataBH$post_video_views/DataBH$post_reach\nDataBH$viral_fan_rate <- DataBH$post_reach_viral_unique/DataBH$post_reach_fan_unique\nDataBH$share_rate <- DataBH$total_shares/(DataBH$total_comments+DataBH$total_likes + DataBH$total_shares)\nDataBH$total_reactions <- (DataBH$feed_likes + DataBH$love + DataBH$wow + DataBH$haha + DataBH$sad + DataBH$angry)\nDataBH$feed_likes_rate <- round(DataBH$feed_likes/DataBH$total_reactions, 4)\nDataBH$love_rate <- round(DataBH$love/DataBH$total_reactions, 4)\nDataBH$wow_rate <- round(DataBH$wow/DataBH$total_reactions, 4)\nDataBH$haha_rate <- round(DataBH$haha/DataBH$total_reactions, 4)\nDataBH$sad_rate <- round(DataBH$sad/DataBH$total_reactions, 4)\nDataBH$angry_rate <- round(DataBH$angry/DataBH$total_reactions, 4)\nDataBH$viral_rate <- (DataBH$post_reach_viral_unique/(DataBH$post_reach_fan_unique + DataBH$post_reach_viral_unique))\nDataBH$fan_rate <- (DataBH$post_reach_fan_unique/(DataBH$post_reach_fan_unique + DataBH$post_reach_viral_unique))\nDataBH$post_image <- paste(\"<img src ='\", DataBH$full_picture,\"'\",'title=\"\"', 'alt=\"\" border=\"0\" height=\"100\" width=\"100\">')\n\n\nDataFC <- merge(DataFC, ReactionsData, by = \"status_id\", all.x = TRUE)\nDataFC <- DataFC[!duplicated(DataFC),]\nDataFC$created_time <- as.POSIXct(strptime(DataFC$created_time, \"%d/%m/%Y %H:%M\"), tz = \"GMT\")\nDataFC$date = strptime(DataFC$date, \"%d/%m/%Y\")\nDataFC$date <- as.Date(DataFC$date)\n# DataFC[DataFC$sharetext == \"\",]$sharetext <- \"No Share Text\"\nDataFC[DataFC$sharetext == \"\",]$sharetext <- as.character(DataFC[DataFC$sharetext == \"\",]$status_id)\nDataFC[DataFC$headline == \"\",]$headline <- as.character(DataFC[DataFC$headline == \"\",]$status_id)\nEncoding(DataFC$sharetext) <- \"latin1\"\nEncoding(DataFC$headline) <- \"latin1\"\nDataFC$total_interactions <- DataFC$total_comments+DataFC$total_likes + DataFC$total_shares\nDataFC$interaction_rate <- (DataFC$total_comments+DataFC$total_likes + DataFC$total_shares)/DataFC$post_reach\nDataFC$ctr <- DataFC$link_clicks/DataFC$post_reach\nDataFC$views_rate <- DataFC$post_video_views/DataFC$post_reach\nDataFC$viral_fan_rate <- DataFC$post_reach_viral_unique/DataFC$post_reach_fan_unique\nDataFC$total_reactions <- (DataFC$feed_likes + DataFC$love + DataFC$wow + DataFC$haha + DataFC$sad + DataFC$angry)\nDataFC$feed_likes_rate <- round(DataFC$feed_likes/DataFC$total_reactions, 4)\nDataFC$love_rate <- round(DataFC$love/DataFC$total_reactions, 4)\nDataFC$wow_rate <- round(DataFC$wow/DataFC$total_reactions, 4)\nDataFC$haha_rate <- round(DataFC$haha/DataFC$total_reactions, 4)\nDataFC$sad_rate <- round(DataFC$sad/DataFC$total_reactions, 4)\nDataFC$angry_rate <- round(DataFC$angry/DataFC$total_reactions, 4)\nDataFC$viral_rate <- (DataFC$post_reach_viral_unique/(DataFC$post_reach_fan_unique + DataFC$post_reach_viral_unique))\nDataFC$fan_rate <- (DataFC$post_reach_fan_unique/(DataFC$post_reach_fan_unique + DataFC$post_reach_viral_unique))\nDataFC$share_rate <- DataFC$total_shares/(DataFC$total_comments+DataFC$total_likes + DataFC$total_shares)\nDataFC$post_image <- paste(\"<img src ='\", DataFC$full_picture,\"'\",'title=\"\"', 'alt=\"\" border=\"0\" height=\"100\" width=\"100\">')\n\n\nDataArticles <- Data[Data$post_type == \"link\",]\nDataArticles <- merge(DataArticles, EditorialData, by = \"status_id\", all.x = TRUE)\nDataArticles <- merge(DataArticles[,], LinkData[,c(\"status_id\", \"mitu_link\", \"category\", \"sponsored\", \"reposted\", \"original\", \"repost\", \"repost_order\", \"times_repost\", \"days_bet_repost\")])\nDataArticles <- ddply(DataArticles, \"mitu_link\", transform, average_ctr = mean(ctr), average_interaction_rate = mean(interaction_rate), average_post_reach = mean(post_reach), average_link_clicks = mean(link_clicks))\n\nDataArticles$author_status <- ifelse(!(DataArticles$author %in% c(\"Jorge Rodriguez-Jimenez\", \"Omar Villegas\", \"Lucas Molandes\", \"Jessica Garcia\", \"Andrew Santiago\", \"Jason Marcus\")), \"Contributor\", DataArticles$author)\n\nDataArticles$author_status <- ifelse(DataArticles$author %in% c(\"mitÃº Staff\", \"Adriana Venegas\", \"Fidel Martinez\", \"Alex Alvarez\", \"Wendy Barba\"), \"Old Staff\", DataArticles$author_status)\n\n\n\nDataVideos <- Data[Data$post_type == \"video\",]\nDataVideos <- merge(DataVideos[,], VideoData[,c(\"status_id\", \"video_repost_sharetext\", \"video_meme\", \"series\", \"category\", \"format\", \"sponsored\", \"reposted\", \"original\", \"repost\", \"repost_order\", \"times_repost\", \"days_bet_repost\")])\nDataVideos <- ddply(DataVideos, \"video_repost_sharetext\", transform, average_views_rate = mean(views_rate), average_interaction_rate = mean(interaction_rate), average_post_reach = mean(post_reach), average_video_views = mean(post_video_views), average_viral_fan_rate = mean(viral_fan_rate))\n# DataVideos$created_time <- as.POSIXct(strptime(DataVideos$created_time, \"%d/%m/%Y %H:%M\"), tz = \"GMT\")\n\nDataPhotos <- Data[Data$post_type == \"photo\",]\nDataPhotos <- merge(DataPhotos[,],PhotoData[,c(\"status_id\", \"image_text_py\", \"reposted\", \"original\", \"repost\", \"repost_order\", \"times_repost\", \"days_bet_repost\")])\nDataPhotos <- ddply(DataPhotos, \"image_text_py\", transform, average_share_rate = mean(share_rate), average_interaction_rate = mean(interaction_rate), average_post_reach = mean(post_reach), average_viral_fan_rate = mean(viral_fan_rate))\n# DataPhotos$created_time <- as.POSIXct(strptime(DataPhotos$created_time, \"%d/%m/%Y %H:%M\"), tz = \"GMT\")\n\n\nDataArticlesBH <- DataBH[DataBH$post_type == \"link\",]\nDataArticlesBH <- merge(DataArticlesBH, EditorialData, by = \"status_id\", all.x = TRUE)\nDataArticlesBH <- merge(DataArticlesBH[,], LinkDataBH[,c(\"status_id\", \"mitu_link\", \"category\", \"sponsored\", \"reposted\", \"original\", \"repost\", \"repost_order\", \"times_repost\", \"days_bet_repost\")])\nDataArticlesBH <- ddply(DataArticlesBH, \"mitu_link\", transform, average_ctr = mean(ctr), average_interaction_rate = mean(interaction_rate), average_post_reach = mean(post_reach), average_link_clicks = mean(link_clicks))\n\nDataArticlesBH$author_status <- ifelse(!(DataArticlesBH$author %in% c(\"Jorge Rodriguez-Jimenez\", \"Omar Villegas\", \"Lucas Molandes\", \"Jessica Garcia\", \"Andrew Santiago\", \"Jason Marcus\")), \"Contributor\", DataArticlesBH$author)\n\nDataArticlesBH$author_status <- ifelse(DataArticlesBH$author %in% c(\"mitÃº Staff\", \"Adriana Venegas\", \"Fidel Martinez\", \"Alex Alvarez\", \"Wendy Barba\"), \"Old Staff\", DataArticlesBH$author_status)\n\n\nDataVideosBH <- DataBH[DataBH$post_type == \"video\",]\nDataVideosBH <- merge(DataVideosBH[,], VideoDataBH[,c(\"status_id\", \"video_repost_sharetext\", \"video_meme\", \"series\", \"category\", \"format\", \"sponsored\", \"reposted\", \"original\", \"repost\", \"repost_order\", \"times_repost\", \"days_bet_repost\")])\nDataVideosBH <- ddply(DataVideosBH, \"video_repost_sharetext\", transform, average_views_rate = mean(views_rate), average_interaction_rate = mean(interaction_rate), average_post_reach = mean(post_reach), average_video_views = mean(post_video_views), average_viral_fan_rate = mean(viral_fan_rate))\n# DataVideos$created_time <- as.POSIXct(strptime(DataVideos$created_time, \"%d/%m/%Y %H:%M\"), tz = \"GMT\")\n\nDataPhotosBH <- DataBH[DataBH$post_type == \"photo\",]\nDataPhotosBH <- merge(DataPhotosBH[,],PhotoDataBH[,c(\"status_id\", \"image_text_py\", \"reposted\", \"original\", \"repost\", \"repost_order\", \"times_repost\", \"days_bet_repost\")])\nDataPhotosBH <- ddply(DataPhotosBH, \"image_text_py\", transform, average_share_rate = mean(share_rate), average_interaction_rate = mean(interaction_rate), average_post_reach = mean(post_reach), average_viral_fan_rate = mean(viral_fan_rate))\n# DataPhotos$created_time <- as.POSIXct(strptime(DataPhotos$created_time, \"%d/%m/%Y %H:%M\"), tz = \"GMT\")\n\n\nDataArticlesFC <- DataFC[DataFC$post_type == \"link\",]\nDataArticlesFC <- merge(DataArticlesFC, EditorialData, by = \"status_id\", all.x = TRUE)\nDataArticlesFC <- merge(DataArticlesFC[,], LinkDataFC[,c(\"status_id\", \"mitu_link\", \"category\", \"sponsored\", \"reposted\", \"original\", \"repost\", \"repost_order\", \"times_repost\", \"days_bet_repost\")])\nDataArticlesFC <- ddply(DataArticlesFC, \"mitu_link\", transform, average_ctr = mean(ctr), average_interaction_rate = mean(interaction_rate), average_post_reach = mean(post_reach), average_link_clicks = mean(link_clicks))\n\nDataArticlesFC$author_status <- ifelse(!(DataArticlesFC$author %in% c(\"Jorge Rodriguez-Jimenez\", \"Omar Villegas\", \"Lucas Molandes\", \"Jessica Garcia\", \"Andrew Santiago\", \"Jason Marcus\")), \"Contributor\", DataArticlesFC$author)\n\nDataArticlesFC$author_status <- ifelse(DataArticlesFC$author %in% c(\"mitÃº Staff\", \"Adriana Venegas\", \"Fidel Martinez\", \"Alex Alvarez\", \"Wendy Barba\"), \"Old Staff\", DataArticlesFC$author_status)\n\n\nDataVideosFC <- DataFC[DataFC$post_type == \"video\",]\nDataVideosFC <- merge(DataVideosFC[,], VideoDataFC[,c(\"status_id\", \"video_repost_sharetext\", \"video_meme\", \"series\", \"category\", \"format\", \"sponsored\", \"reposted\", \"original\", \"repost\", \"repost_order\", \"times_repost\", \"days_bet_repost\")])\nDataVideosFC <- ddply(DataVideosFC, \"video_repost_sharetext\", transform, average_views_rate = mean(views_rate), average_interaction_rate = mean(interaction_rate), average_post_reach = mean(post_reach), average_video_views = mean(post_video_views), average_viral_fan_rate = mean(viral_fan_rate))\n# DataVideos$created_time <- as.POSIXct(strptime(DataVideos$created_time, \"%d/%m/%Y %H:%M\"), tz = \"GMT\")\n\nDataPhotosFC <- DataFC[DataFC$post_type == \"photo\",]\nDataPhotosFC <- merge(DataPhotosFC[,],PhotoDataFC[,c(\"status_id\", \"image_text_py\", \"reposted\", \"original\", \"repost\", \"repost_order\", \"times_repost\", \"days_bet_repost\")])\nDataPhotosFC <- ddply(DataPhotosFC, \"image_text_py\", transform, average_share_rate = mean(share_rate), average_interaction_rate = mean(interaction_rate), average_post_reach = mean(post_reach), average_viral_fan_rate = mean(viral_fan_rate))\n# DataPhotos$created_time <- as.POSIXct(strptime(DataPhotos$created_time, \"%d/%m/%Y %H:%M\"), tz = \"GMT\")\n\nsave(Data, file = \"C:/Users/Marco Galvis/Documents/Repost_App_2.0/data/PostData.Rda\")\nsave(DataArticles, file = \"C:/Users/Marco Galvis/Documents/Repost_App_2.0/data/DataArticles.Rda\")\nsave(DataVideos, file = \"C:/Users/Marco Galvis/Documents/Repost_App_2.0/data/DataVideos.Rda\")\nsave(DataPhotos, file = \"C:/Users/Marco Galvis/Documents/Repost_App_2.0/data/DataPhotos.Rda\")\nsave(DataBH, file = \"C:/Users/Marco Galvis/Documents/Repost_App_2.0/data/PostDataBH.Rda\")\nsave(DataArticlesBH, file = \"C:/Users/Marco Galvis/Documents/Repost_App_2.0/data/DataArticlesBH.Rda\")\nsave(DataVideosBH, file = \"C:/Users/Marco Galvis/Documents/Repost_App_2.0/data/DataVideosBH.Rda\")\nsave(DataPhotosBH, file = \"C:/Users/Marco Galvis/Documents/Repost_App_2.0/data/DataPhotosBH.Rda\")\n\nsave(DataFC, file = \"C:/Users/Marco Galvis/Documents/Repost_App_2.0/data/PostDataFC.Rda\")\nsave(DataArticlesFC, file = \"C:/Users/Marco Galvis/Documents/Repost_App_2.0/data/DataArticlesFC.Rda\")\nsave(DataVideosFC, file = \"C:/Users/Marco Galvis/Documents/Repost_App_2.0/data/DataVideosFC.Rda\")\nsave(DataPhotosFC, file = \"C:/Users/Marco Galvis/Documents/Repost_App_2.0/data/DataPhotosFC.Rda\")\n\nsave(Data, file = \"C:/Users/Marco Galvis/Documents/WeeklyRecApp/data/PostData.Rda\")\nsave(DataArticles, file = \"C:/Users/Marco Galvis/Documents/WeeklyRecApp/data/DataArticles.Rda\")\nsave(DataVideos, file = \"C:/Users/Marco Galvis/Documents/WeeklyRecApp/data/DataVideos.Rda\")\nsave(DataPhotos, file = \"C:/Users/Marco Galvis/Documents/WeeklyRecApp/data/DataPhotos.Rda\")\nsave(DataBH, file = \"C:/Users/Marco Galvis/Documents/WeeklyRecApp/data/PostDataBH.Rda\")\nsave(DataArticlesBH, file = \"C:/Users/Marco Galvis/Documents/WeeklyRecApp/data/DataArticlesBH.Rda\")\nsave(DataVideosBH, file = \"C:/Users/Marco Galvis/Documents/WeeklyRecApp/data/DataVideosBH.Rda\")\nsave(DataPhotosBH, file = \"C:/Users/Marco Galvis/Documents/WeeklyRecApp/data/DataPhotosBH.Rda\")\n\nsave(DataFC, file = \"C:/Users/Marco Galvis/Documents/WeeklyRecApp/data/PostDataFC.Rda\")\nsave(DataArticlesFC, file = \"C:/Users/Marco Galvis/Documents/WeeklyRecApp/data/DataArticlesFC.Rda\")\nsave(DataVideosFC, file = \"C:/Users/Marco Galvis/Documents/WeeklyRecApp/data/DataVideosFC.Rda\")\nsave(DataPhotosFC, file = \"C:/Users/Marco Galvis/Documents/WeeklyRecApp/data/DataPhotosFC.Rda\")\n\nsave(Data, file = \"C:/Users/Marco Galvis/Documents/CreatorsContent App/data/PostData.Rda\")\nsave(DataArticles, file = \"C:/Users/Marco Galvis/Documents/CreatorsContent App/data/DataArticles.Rda\")\nsave(DataVideos, file = \"C:/Users/Marco Galvis/Documents/CreatorsContent App/data/DataVideos.Rda\")\nsave(DataPhotos, file = \"C:/Users/Marco Galvis/Documents/CreatorsContent App/data/DataPhotos.Rda\")\nsave(DataBH, file = \"C:/Users/Marco Galvis/Documents/CreatorsContent App/data/PostDataBH.Rda\")\nsave(DataArticlesBH, file = \"C:/Users/Marco Galvis/Documents/CreatorsContent App/data/DataArticlesBH.Rda\")\nsave(DataVideosBH, file = \"C:/Users/Marco Galvis/Documents/CreatorsContent App/data/DataVideosBH.Rda\")\nsave(DataPhotosBH, file = \"C:/Users/Marco Galvis/Documents/CreatorsContent App/data/DataPhotosBH.Rda\")\n\nsave(DataFC, file = \"C:/Users/Marco Galvis/Documents/CreatorsContent App/data/PostDataFC.Rda\")\nsave(DataArticlesFC, file = \"C:/Users/Marco Galvis/Documents/CreatorsContent App/data/DataArticlesFC.Rda\")\nsave(DataVideosFC, file = \"C:/Users/Marco Galvis/Documents/CreatorsContent App/data/DataVideosFC.Rda\")\nsave(DataPhotosFC, file = \"C:/Users/Marco Galvis/Documents/CreatorsContent App/data/DataPhotosFC.Rda\")\n",
    "created" : 1502754606291.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3725421898",
    "id" : "6ED564C0",
    "lastKnownWriteTime" : 1499807761,
    "last_content_update" : 1499807761,
    "path" : "~/Dashboard Data Update/DataUpdate.R",
    "project_path" : null,
    "properties" : {
    },
    "relative_order" : 4,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}